@(periodos: List[Periodo],disponiveis: List[Disciplina], erro: String) @import helper._

@main("Planejamento de curso") {

<head>
<meta charset="UTF-8">
<script src="//code.jquery.com/jquery-1.9.1.js"></script>
<script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>

<script>
  $(function() {
    $( ".disciplina" ).draggable();
    $( ".disciplinaNaoAlocada" ).draggable();
    $( ".coluna" ).droppable({
      drop: function( event, ui ) {
    	var disciplina = ui.draggable[0].id;
      	var periodo = event.target.id.replace('periodo_', '');
      	
        location.href = '/alocaDisciplina/' + periodo + '/' + disciplina
      }
    });
  });
  
  function deletaComClick(disciplinaNome){
	  
	  location.href = '/deletaDisciplina/' + disciplinaNome;
  }
  
  
</script>

</head>

<!--Inutil -->
<header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav"
	role="banner">
	<div class="navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<a href="/" class="navbar-brand">Home</a>
			</div>
			<nav class="collapse navbar-collapse bs-navbar-collapse"
				role="navigation">
				<ul class="nav navbar-nav navbar-right">
					<li><a href="/reiniciar">Reiniciar</a></li>
					<li><a href="@routes.Application.logout()">Logout</a></li>
				</ul>
			</nav>
		</div>
	</div>
</header>
<!-- -->

<div class="wrapper" style="height: 100%;">
	<div class="titulo">
		<nome-principal>Meu Curso</nome-principal>
	</div>
	<br />

	<div class="titulo">
		<nome-principal>Planejamento</nome-principal>
	</div>



	<mensagem-erro> @erro </mensagem-erro>


		@for((periodo, i) <- periodos.zipWithIndex) {
		
			@if(i < 7){
			<div id="colunas">
			<div id="periodo_@(i + 1)" class="coluna" align='center'>
			<nome-periodo>Período @(1 + periodos.indexOf(periodo))</nome-periodo>

				@for(disciplina <- periodo.getDisciplinas()){
					@if(disciplina.isAlocadaCorretamente()){
						<div class="disciplina" id="@disciplina.getNome()" ondblclick="deletaComClick(this.id);">
						<nome>@disciplina.getNome()</nome>
						<br />
						<descricao>@disciplina.getCreditos() créditos <br>
						Dificuldade: @disciplina.getDificuldade()</descricao>
						</div>
					}else{
						<div class="disciplinaNaoAlocada" id="@disciplina.getNome()" ondblclick="deletaComClick(this.id);">
						<nome>@disciplina.getNome()</nome>
						<br />
						<descricao>@disciplina.getCreditos() créditos <br>
						Dificuldade: @disciplina.getDificuldade()</descricao>
						</div>
					}
				}
				<div class="periodo">
				<nome> Total de créditos</nome>
				<br />
				<descricao>@periodo.getTotalCreditos() créditos <br>
				<nome>Dificuldade Total <br>
				</nome>@periodo.getDificuldadeTotal()</descricao>
				</div>

			</div>
				@if(i == 6){
					
					<div id="periodo_15" class="colunaDisponiveis" align='right'>
					<nome-periodo>Disciplinas Disponíveis:</nome-periodo>
		
						@for(disciplina <- disponiveis){
							@if(disciplina.isAlocadaCorretamente()){
								<div class="disciplina" id="@disciplina.getNome()">
								<nome>@disciplina.getNome()</nome>
								<br />
								<descricao>@disciplina.getCreditos() créditos <br>
								Dificuldade: @disciplina.getDificuldade()</descricao>
								</div>
							}else{
								<div class="disciplinaNaoAlocada" id="@disciplina.getNome()">
								<nome>@disciplina.getNome()</nome>
								<br />
								<descricao>@disciplina.getCreditos() créditos <br>
								Dificuldade: @disciplina.getDificuldade()</descricao>
								</div>
							}
						}
					</div>
							
					</div>
				}
			}else{
				<div id="colunas">
				<div id="periodo_@(i + 1)" class="coluna" align='center'>
				<nome-periodo>Período @(1 + periodos.indexOf(periodo))</nome-periodo>

				@for(disciplina <- periodo.getDisciplinas()){
					@if(disciplina.isAlocadaCorretamente()){
						<div class="disciplina" id="@disciplina.getNome()" ondblclick="deletaComClick(this.id);">
						<nome>@disciplina.getNome()</nome>
						<br />
						<descricao>@disciplina.getCreditos() créditos <br>
						Dificuldade: @disciplina.getDificuldade()</descricao>
						</div>
					}else{
						<div class="disciplinaNaoAlocada" id="@disciplina.getNome()" ondblclick="deletaComClick(this.id);">
						<nome>@disciplina.getNome()</nome>
						<br />
						<descricao>@disciplina.getCreditos() créditos <br>
						Dificuldade: @disciplina.getDificuldade()</descricao>
						</div>
					}
				}
				<div class="periodo">
				<nome> Total de créditos</nome>
				<br />
				<descricao>@periodo.getTotalCreditos() créditos <br>
				<nome>Dificuldade Total <br>
				</nome>@periodo.getDificuldadeTotal()</descricao>
				</div>

			</div>
			}
		
		}
	</div>

</div>
}
